Загальне завдання 9.1

Умова

Напишіть програму, яка читає файл /etc/passwd за допомогою команди getent passwd, щоб дізнатись, 
які облікові записи визначені на вашому комп’ютері. Програма повинна визначити, чи є серед них 
звичайні користувачі (ідентифікатори UID повинні бути більші за 500 або 1000, залежно від вашого 
дистрибутива), окрім вас.

Пояснення

Скрипт читає /etc/passwd, виводить користувачів з UID ≥ 1000.

Загальне завдання 9.2

Умова

Напишіть програму, яка виконує команду cat /etc/shadow від імені адміністратора, хоча
запускається від звичайного користувача.
(Ваша програма повинна робити необхідне, виходячи з того, що конфігурація системи дозволяє 
отримувати адміністративний доступ за допомогою відповідної команди.)

Пояснення

Користувач має мати право запускати sudo без обов'язкового запиту пароля (NOPASSWD: в sudoers) 
або знати пароль адміністратора.

Загальне завдання 9.3

Умова

Напишіть програму, яка від імені root копіює файл, який вона перед цим створила від імені 
звичайного користувача. Потім вона повинна помістити копію у домашній каталог звичайного 
користувача.
Далі, використовуючи звичайний обліковий запис, програма намагається змінити файл і зберегти 
зміни. Що відбудеться?
Після цього програма намагається видалити цей файл за допомогою команди rm. Що відбудеться?

Пояснення

Якщо власник - root, а права доступу не змінено → запис і видалення заборонено.

Якщо власник змінений або права змінені, то операції пройдуть.

Загальне завдання 9.4

Умова

Напишіть програму, яка по черзі виконує команди whoami та id, щоб перевірити стан облікового 
запису користувача, від імені якого вона запущена.
Є ймовірність, що команда id виведе список різних груп, до яких ви належите. Програма повинна це 
продемонструвати.

Пояснення

Програма виведе ім'я користувача, групи, додаткові привілеї.

Загальне завдання 9.5

Умова

Напишіть програму, яка створює тимчасовий файл від імені звичайного користувача. Потім від імені суперкористувача використовує команди chown і chmod, щоб змінити тип володіння та права доступу.
Програма повинна визначити, в яких випадках вона може виконувати читання та запис файлу, використовуючи свій обліковий запис.

Пояснення

Якщо файл належить root і має 600, то користувач не зможе читати чи змінювати його.

Загальне завдання 9.6

Умова

Напишіть програму, яка виконує команду ls -l, щоб переглянути власника і права доступу до файлів 
у своєму домашньому каталозі, в /usr/bin та в /etc.
Продемонструйте, як ваша програма намагається обійти різні власники та права доступу 
користувачів, а також здійснює спроби читання, запису та виконання цих файлів.

Пояснення

Обхід можна через sudo, обхід власників — неможливий без root-доступу.

Завдання за варіантом 10

Умова

Визначте, які приховані механізми можуть дати доступ до закритого ресурсу без зміни прав доступу.

Пояснення

Спочатку файл secret.txt створюється. Потім файл відкривається у спеціальний дескриптор №3 (exec 
3< filename). Права на файл обнуляються (chmod 000). Але читання через вже відкритий дескриптор доступне!
